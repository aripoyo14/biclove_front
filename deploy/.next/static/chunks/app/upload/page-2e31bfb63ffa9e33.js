(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{1342:(e,s,a)=>{"use strict";a.d(s,{default:()=>N});var t=a(5155),r=a(2115),l=a(5695),n=a(7434),i=a(9869),c=a(5196),d=a(3717),o=a(3332),u=a(4416),m=a(4229),x=a(7168),f=a(9852),g=a(9474),p=a(8482),b=a(1838),h=a(3999);let v=r.forwardRef((e,s)=>{let{className:a,value:r,indicatorClassName:l,...n}=e;return(0,t.jsx)(b.bL,{ref:s,className:(0,h.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...n,children:(0,t.jsx)(b.C1,{className:(0,h.cn)("h-full w-full flex-1 bg-primary transition-all",l),style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});v.displayName=b.bL.displayName;var y=a(8342),j=function(e){return e[e.IDLE=0]="IDLE",e[e.UPLOADING=1]="UPLOADING",e[e.PROCESSING=2]="PROCESSING",e[e.COMPLETED=3]="COMPLETED",e}(j||{});function N(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)(0),[b,h]=(0,r.useState)(0),[j,N]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1),[T,C]=(0,r.useState)({title:"",summary:"",knowledge:"",knowledgeTags:[],issues:"",challengeTags:[]}),R=(0,r.useRef)(null),A=(0,r.useRef)(null),D=(0,r.useRef)(null),z=e=>{e.target.files&&e.target.files.length>0&&N(e.target.files[0])},E=e=>{e.preventDefault(),e.stopPropagation()},P=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files.length>0&&N(e.dataTransfer.files[0])},L=()=>{if(!j)return;a(1);let e=0,s=setInterval(()=>{h(e+=5),e>=100&&(clearInterval(s),a(2),setTimeout(()=>{let e="- Target markets include Southeast Asia and Latin America\n- Key competitors in these regions are Company A and Company B\n- Market entry strategy focuses on digital-first approach\n- Projected ROI is 15-20% within the first year",s="- Limited resources for simultaneous market entry\n- Regulatory challenges in Southeast Asian markets\n- Strong local competition in Latin America\n- Currency fluctuation risks",t=(0,y.G2)(e),r=(0,y.G2)(s);C({title:j.name.replace(/\.[^/.]+$/,""),summary:"This document outlines the company's strategy for expanding into new markets in Q3. It includes market research data, competitive analysis, and a proposed timeline for the expansion.",knowledge:e,knowledgeTags:t,issues:s,challengeTags:r}),a(3)},2e3))},100)},S=(e,s)=>{C(a=>({...a,[e]:s}))},I=e=>{if("Enter"===e.key&&""!==e.currentTarget.value.trim()){e.preventDefault();let s=e.currentTarget.value.trim();T.knowledgeTags.includes(s)||S("knowledgeTags",[...T.knowledgeTags,s]),e.currentTarget.value=""}},O=e=>{if("Enter"===e.key&&""!==e.currentTarget.value.trim()){e.preventDefault();let s=e.currentTarget.value.trim();T.challengeTags.includes(s)||S("challengeTags",[...T.challengeTags,s]),e.currentTarget.value=""}},Z=e=>{S("knowledgeTags",T.knowledgeTags.filter(s=>s!==e))},_=e=>{S("challengeTags",T.challengeTags.filter(s=>s!==e))},B=()=>{[...(0,y.G_)().map(e=>e.id)],T.title,y.Ny,T.summary,T.knowledge,T.knowledgeTags,T.issues,T.challengeTags,e.push("/meeting/8")};return(0,t.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(()=>{switch(s){case 0:return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-6",children:[(0,t.jsxs)("div",{className:"w-full max-w-md border-2 border-dashed border-blue/30 rounded-lg p-12 text-center cursor-pointer hover:bg-blue/5 transition-colors",onClick:()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.click()},onDragOver:E,onDrop:P,children:[(0,t.jsx)("input",{type:"file",ref:R,onChange:z,className:"hidden",accept:".pdf,.doc,.docx,.txt,.md"}),(0,t.jsx)(n.A,{size:48,className:"mx-auto mb-4 text-blue"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2 text-navy",children:j?j.name:"ドラッグ＆ドロップまたはクリックしてアップロード"}),(0,t.jsx)("p",{className:"text-sm text-navy/70 mb-4",children:j?"".concat((j.size/1024/1024).toFixed(2)," MB"):"PDF、Word、テキスト、Markdownファイルに対応"}),j&&(0,t.jsxs)(x.$,{onClick:e=>{e.stopPropagation(),L()},className:"gap-2 bg-blue hover:bg-blue/90",children:[(0,t.jsx)(i.A,{size:16}),"資料をアップロード"]})]}),!j&&(0,t.jsxs)(x.$,{variant:"outline",onClick:()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.click()},className:"gap-2 border-blue text-blue hover:bg-blue/10",children:[(0,t.jsx)(i.A,{size:16}),"資料を選択"]})]});case 1:return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-6",children:[(0,t.jsx)(n.A,{size:48,className:"text-blue"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-navy",children:"アップロード中"}),(0,t.jsxs)("div",{className:"w-full max-w-md space-y-2",children:[(0,t.jsx)(v,{value:b,className:"h-2 bg-blue/20",indicatorClassName:"bg-blue"}),(0,t.jsxs)("p",{className:"text-sm text-navy/70 text-center",children:[b,"% 完了"]})]})]});case 2:return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-6",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue/10 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue border-t-transparent rounded-full animate-spin"})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-navy",children:"処理中"}),(0,t.jsx)("p",{className:"text-navy/70 text-center max-w-md",children:"資料を分析してナレッジに変換しています。少々お待ちください。"})]});case 3:return(0,t.jsxs)("div",{className:"space-y-6 py-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-navy",children:"資料サマリー"}),(0,t.jsx)(x.$,{variant:w?"default":"outline",onClick:()=>k(!w),className:"gap-2 ".concat(w?"bg-blue hover:bg-blue/90":"border-blue text-blue hover:bg-blue/10"),children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{size:18}),"編集完了"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{size:18}),"編集する"]})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(p.Zp,{className:"bg-cream border-blue/20",children:[(0,t.jsx)(p.aR,{className:"pb-2",children:(0,t.jsx)(p.ZB,{className:"text-navy text-lg",children:"資料タイトル"})}),(0,t.jsx)(p.Wu,{children:w?(0,t.jsx)(f.p,{value:T.title,onChange:e=>S("title",e.target.value),className:"bg-white border-blue/20"}):(0,t.jsx)("p",{className:"font-medium text-navy",children:T.title})})]}),(0,t.jsxs)(p.Zp,{className:"bg-cream border-blue/20",children:[(0,t.jsx)(p.aR,{className:"pb-2",children:(0,t.jsx)(p.ZB,{className:"text-navy text-lg",children:"資料サマリー"})}),(0,t.jsx)(p.Wu,{children:w?(0,t.jsx)(g.T,{value:T.summary,onChange:e=>S("summary",e.target.value),className:"min-h-[120px] bg-white border-blue/20"}):(0,t.jsx)("p",{className:"whitespace-pre-wrap text-navy/80",children:T.summary})})]}),(0,t.jsxs)(p.Zp,{className:"bg-cream border-blue/20",children:[(0,t.jsx)(p.aR,{className:"pb-2",children:(0,t.jsx)(p.ZB,{className:"text-navy text-lg",children:"ナレッジポイント"})}),(0,t.jsxs)(p.Wu,{className:"space-y-4",children:[w?(0,t.jsx)(g.T,{value:T.knowledge,onChange:e=>S("knowledge",e.target.value),className:"min-h-[120px] bg-white border-blue/20"}):(0,t.jsx)("p",{className:"whitespace-pre-wrap text-navy/80",children:T.knowledge}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(o.A,{size:16,className:"text-blue"}),(0,t.jsx)("span",{className:"text-sm font-medium text-navy",children:"ナレッジタグ"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[T.knowledgeTags.map((e,s)=>(0,t.jsxs)("div",{className:"bg-blue/10 text-navy px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e,w&&(0,t.jsx)("button",{onClick:()=>Z(e),className:"w-4 h-4 rounded-full bg-blue/20 flex items-center justify-center hover:bg-blue/30",children:(0,t.jsx)(u.A,{size:10})})]},s)),w&&(0,t.jsx)(f.p,{ref:A,placeholder:"タグを追加してEnterを押す",className:"w-48 h-8 bg-white border-blue/20",onKeyDown:I})]})]})]})]}),(0,t.jsxs)(p.Zp,{className:"bg-cream border-blue/20",children:[(0,t.jsx)(p.aR,{className:"pb-2",children:(0,t.jsx)(p.ZB,{className:"text-navy text-lg",children:"チャレンジ"})}),(0,t.jsxs)(p.Wu,{className:"space-y-4",children:[w?(0,t.jsx)(g.T,{value:T.issues,onChange:e=>S("issues",e.target.value),className:"min-h-[120px] bg-white border-blue/20"}):(0,t.jsx)("p",{className:"whitespace-pre-wrap text-navy/80",children:T.issues}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(o.A,{size:16,className:"text-blue"}),(0,t.jsx)("span",{className:"text-sm font-medium text-navy",children:"チャレンジタグ"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[T.challengeTags.map((e,s)=>(0,t.jsxs)("div",{className:"bg-yellow/20 text-navy px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e,w&&(0,t.jsx)("button",{onClick:()=>_(e),className:"w-4 h-4 rounded-full bg-yellow/30 flex items-center justify-center hover:bg-yellow/40",children:(0,t.jsx)(u.A,{size:10})})]},s)),w&&(0,t.jsx)(f.p,{ref:D,placeholder:"タグを追加してEnterを押す",className:"w-48 h-8 bg-white border-blue/20",onKeyDown:O})]})]})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(x.$,{size:"lg",onClick:B,className:"gap-2 bg-blue hover:bg-blue/90",children:[(0,t.jsx)(m.A,{size:18}),"資料を保存"]})})]});default:return null}})()})}},4510:(e,s,a)=>{Promise.resolve().then(a.bind(a,693)),Promise.resolve().then(a.bind(a,1342))},7168:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var t=a(5155),r=a(2115),l=a(4624),n=a(2085),i=a(3999);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:a,variant:r,size:n,asChild:d=!1,...o}=e,u=d?l.DX:"button";return(0,t.jsx)(u,{className:(0,i.cn)(c({variant:r,size:n,className:a})),ref:s,...o})});d.displayName="Button"},8482:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>u});var t=a(5155),r=a(2115),l=a(3999);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},9474:(e,s,a)=>{"use strict";a.d(s,{T:()=>n});var t=a(5155),r=a(2115),l=a(3999);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});n.displayName="Textarea"},9852:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var t=a(5155),r=a(2115),l=a(3999);let n=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...n})});n.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[849,874,50,693,441,684,358],()=>s(4510)),_N_E=e.O()}]);